<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Workplace SWOT Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- Apple Typography & Base Settings --- */
        :root {
            --apple-blue: #0071e3;
            --apple-bg: #f5f5f7;
            --apple-card: #ffffff;
            --ease-apple: cubic-bezier(0.25, 1, 0.5, 1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            background-color: var(--apple-bg);
            color: #1d1d1f;
            -webkit-font-smoothing: antialiased;
        }

        /* --- Custom Animations --- */
        .card-enter {
            animation: scaleIn 0.4s var(--ease-apple) forwards;
        }

        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.95) translateY(10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .target-zone {
            transition: all 0.3s var(--ease-apple);
        }

        /* Pulse animation for target zones when a card is selected */
        .target-active {
            background-color: rgba(0, 113, 227, 0.05);
            border-color: var(--apple-blue) !important;
            box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.15);
            transform: scale(1.01);
        }

        /* Card Selection State */
        .scenario-selected {
            border-color: var(--apple-blue) !important;
            box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.2) !important;
            transform: translateY(-2px);
            z-index: 50 !important; /* Ensure selected card stays on top */
        }
        
        /* Hide scrollbar for cleaner look in horizontal scroll areas */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        
        <div class="text-center mb-10 mt-4">
            <h1 class="text-4xl md:text-5xl font-bold tracking-tight text-gray-900 mb-3">
                AI Workplace SWOT Analysis
            </h1>
            <p class="text-xl text-gray-500 font-light max-w-2xl mx-auto leading-relaxed">
                Click a scenario card, then click one category: Strength, Weakness, Opportunity or Threat.
            </p>
            
            <div class="mt-6 flex justify-center gap-4">
                <a href="workshop.html" class="inline-flex items-center px-5 py-2.5 rounded-full bg-white text-gray-700 text-sm font-medium shadow-sm hover:bg-gray-50 transition-colors border border-gray-200">
                    ‚Üê Back to Resources
                </a>
                <button onclick="resetWorkshop()" class="inline-flex items-center px-5 py-2.5 rounded-full bg-[#1d1d1f] text-white text-sm font-medium shadow-sm hover:bg-gray-800 transition-all">
                    Reset Board
                </button>
            </div>
        </div>

        <div class="mb-10">
            <div class="flex justify-between items-end mb-4 px-2">
                <h2 class="text-2xl font-semibold text-gray-900">Scenarios</h2>
                <span id="counter-badge" class="bg-gray-200 text-gray-600 text-xs font-bold px-2 py-1 rounded-full">6 Remaining</span>
            </div>
            
            <div id="unassigned-container" class="flex flex-wrap gap-4 min-h-[160px] p-6 bg-white rounded-[24px] shadow-sm border border-gray-200/60 items-start transition-all">
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            
            <div class="flex flex-col h-full">
                <div class="flex items-center gap-2 mb-3 px-2">
                    <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    <h3 class="text-lg font-semibold text-gray-800">Strengths</h3>
                </div>
                <div onclick="handleCategoryClick('strengths')" id="strengths-container" class="target-zone flex-1 min-h-[280px] p-4 rounded-[24px] bg-white border-2 border-transparent hover:border-gray-300 shadow-sm transition-all cursor-pointer relative">
                </div>
            </div>

            <div class="flex flex-col h-full">
                <div class="flex items-center gap-2 mb-3 px-2">
                    <div class="w-3 h-3 rounded-full bg-red-500"></div>
                    <h3 class="text-lg font-semibold text-gray-800">Weaknesses</h3>
                </div>
                <div onclick="handleCategoryClick('weaknesses')" id="weaknesses-container" class="target-zone flex-1 min-h-[280px] p-4 rounded-[24px] bg-white border-2 border-transparent hover:border-gray-300 shadow-sm transition-all cursor-pointer relative">
                </div>
            </div>

            <div class="flex flex-col h-full">
                <div class="flex items-center gap-2 mb-3 px-2">
                    <div class="w-3 h-3 rounded-full bg-blue-500"></div>
                    <h3 class="text-lg font-semibold text-gray-800">Opportunities</h3>
                </div>
                <div onclick="handleCategoryClick('opportunities')" id="opportunities-container" class="target-zone flex-1 min-h-[280px] p-4 rounded-[24px] bg-white border-2 border-transparent hover:border-gray-300 shadow-sm transition-all cursor-pointer relative">
                </div>
            </div>

            <div class="flex flex-col h-full">
                <div class="flex items-center gap-2 mb-3 px-2">
                    <div class="w-3 h-3 rounded-full bg-orange-500"></div>
                    <h3 class="text-lg font-semibold text-gray-800">Threats</h3>
                </div>
                <div onclick="handleCategoryClick('threats')" id="threats-container" class="target-zone flex-1 min-h-[280px] p-4 rounded-[24px] bg-white border-2 border-transparent hover:border-gray-300 shadow-sm transition-all cursor-pointer relative">
                </div>
            </div>

        </div>

        <div class="mt-12 max-w-2xl mx-auto">
            <div class="flex justify-between text-sm font-medium text-gray-500 mb-2">
                <span>Progress</span>
                <span id="progress-text">0%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2 overflow-hidden">
                <div id="progress-bar" class="bg-[#0071e3] h-2 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
            </div>
        </div>

        <div class="mt-16 border-t border-gray-200 pt-12">
            <h2 class="text-2xl font-bold text-center text-gray-900 mb-8">Perspectives matter - what is good for staff, might not be good for customer?</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5">
                
                <div class="p-6 bg-white rounded-[20px] shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
                    <div class="text-3xl mb-4">üó£Ô∏è</div>
                    <h3 class="font-bold text-gray-900 mb-1">VOC</h3>
                    <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-3">Customer</p>
                    <p class="text-sm text-gray-600 leading-relaxed">"We want faster service but expect human-quality interactions."</p>
                </div>

                <div class="p-6 bg-white rounded-[20px] shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
                    <div class="text-3xl mb-4">üè¢</div>
                    <h3 class="font-bold text-gray-900 mb-1">VOB</h3>
                    <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-3">Business</p>
                    <p class="text-sm text-gray-600 leading-relaxed">"We need to reduce costs by 25% while maintaining quality."</p>
                </div>

                <div class="p-6 bg-white rounded-[20px] shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
                    <div class="text-3xl mb-4">üë§</div>
                    <h3 class="font-bold text-gray-900 mb-1">VOE</h3>
                    <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-3">Employee</p>
                    <p class="text-sm text-gray-600 leading-relaxed">"The AI helps me work faster but I worry about job security."</p>
                </div>

                <div class="p-6 bg-white rounded-[20px] shadow-sm border border-gray-100 hover:shadow-md transition-shadow">
                    <div class="text-3xl mb-4">‚öôÔ∏è</div>
                    <h3 class="font-bold text-gray-900 mb-1">VOP</h3>
                    <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-3">Process</p>
                    <p class="text-sm text-gray-600 leading-relaxed">"AI reduces errors but creates new dependencies we must manage."</p>
                </div>

            </div>
        </div>
        
        <footer class="text-center text-gray-400 text-sm mt-20 mb-10">
            Workshop Materials ¬© 2025
        </footer>

    </div>

    <script>
        // --- Data ---
        const scenarios = [
            {
                id: 'task-automation',
                title: 'Complete Task Automation',
                icon: '‚ö°',
                description: 'A marketing team uses AI to automate scheduling and responses, reducing human work from 40hrs to 2hrs.'
            },
            {
                id: 'cloud-processing',
                title: 'Cloud Data Processing',
                icon: 'üîÑ',
                description: 'A law firm uploads all contracts to cloud AI for summarisation, risking sensitive client information.'
            },
            {
                id: 'ai-dependent',
                title: 'AI-Dependent Workforce',
                icon: 'üß†',
                description: 'A design team relies so heavily on AI that when the system goes down, productivity drops by 70%.'
            },
            {
                id: 'accessibility',
                title: 'Accessibility Transformation',
                icon: 'üòå',
                description: 'Employees with dyslexia use GenAI to transform rough ideas into structured text, reducing cognitive load and stress around writing mechanics.'
            },
            {
                id: 'environmental',
                title: 'Environmental Impact',
                icon: 'üåç',
                description: "Company GenAI adoption raises energy 30% but optimises logistics, cutting transport emissions 20%"
            },
            {
                id: 'competitive',
                title: 'Competitive Advantage',
                icon: 'üöÄ',
                description: 'A startup uses AI to undercut competitors by 50%, gaining market share but destabilising the industry.'
            }
        ];

        const categories = ['strengths', 'weaknesses', 'opportunities', 'threats'];
        
        // --- State ---
        let assignments = {
            strengths: [],
            weaknesses: [],
            opportunities: [],
            threats: []
        };
        let selectedScenarioId = null;

        // --- Functions ---

        function init() {
            render();
        }

        function selectScenario(id, event) {
            event.stopPropagation(); // Prevent this click from triggering the container
            if (selectedScenarioId === id) {
                selectedScenarioId = null; // Deselect
            } else {
                selectedScenarioId = id;
            }
            render();
        }

        function handleCategoryClick(category) {
            // Only run if something is actually selected
            if (selectedScenarioId) {
                
                // 1. Remove from old category if it exists there
                for (let cat of categories) {
                    const index = assignments[cat].indexOf(selectedScenarioId);
                    if (index > -1) {
                        assignments[cat].splice(index, 1);
                    }
                }

                // 2. Add to new category (No limits)
                assignments[category].push(selectedScenarioId);
                
                // 3. Clear selection
                selectedScenarioId = null;
                render();
            }
        }

        function resetWorkshop() {
            if(confirm("Reset the board?")) {
                assignments = { strengths: [], weaknesses: [], opportunities: [], threats: [] };
                selectedScenarioId = null;
                render();
            }
        }

        function render() {
            const allAssignedIds = Object.values(assignments).flat();

            // 1. Render Unassigned
            const unassignedContainer = document.getElementById('unassigned-container');
            unassignedContainer.innerHTML = '';
            
            const unassignedScenarios = scenarios.filter(s => !allAssignedIds.includes(s.id));
            
            if (unassignedScenarios.length === 0) {
                unassignedContainer.innerHTML = `
                    <div class="w-full flex flex-col items-center justify-center text-gray-300 py-8 animate-pulse">
                        <span class="text-4xl mb-2">üéâ</span>
                        <span class="font-medium">All scenarios sorted</span>
                    </div>`;
                document.getElementById('counter-badge').innerText = "Complete";
                document.getElementById('counter-badge').className = "bg-green-100 text-green-700 text-xs font-bold px-2 py-1 rounded-full";
            } else {
                unassignedScenarios.forEach(s => {
                    unassignedContainer.appendChild(createCard(s, false));
                });
                document.getElementById('counter-badge').innerText = `${unassignedScenarios.length} Remaining`;
                document.getElementById('counter-badge').className = "bg-gray-200 text-gray-600 text-xs font-bold px-2 py-1 rounded-full";
            }

            // 2. Render Categories
            categories.forEach(cat => {
                const container = document.getElementById(`${cat}-container`);
                container.innerHTML = '';
                
                // Highlight target zones if dragging
                if (selectedScenarioId) {
                    container.classList.add('target-active');
                } else {
                    container.classList.remove('target-active');
                }

                if (assignments[cat].length === 0) {
                    let desc = '';
                    if(cat === 'strengths') desc = 'Internal positive factors';
                    if(cat === 'weaknesses') desc = 'Internal negative factors';
                    if(cat === 'opportunities') desc = 'External positive factors';
                    if(cat === 'threats') desc = 'External negative factors';
                    
                    if(!selectedScenarioId) {
                        container.innerHTML = `
                            <div class="absolute inset-0 flex flex-col items-center justify-center text-gray-300 pointer-events-none pt-10 opacity-60">
                                <span class="text-sm font-medium">Empty</span>
                                <span class="text-xs mt-1">${desc}</span>
                            </div>
                        `;
                    } else {
                         container.innerHTML = `
                            <div class="absolute inset-0 flex flex-col items-center justify-center text-blue-500 pointer-events-none pt-10">
                                <span class="text-sm font-bold">Tap to Drop Here</span>
                            </div>
                        `;
                    }
                } else {
                    assignments[cat].forEach(id => {
                        const scenario = scenarios.find(s => s.id === id);
                        if(scenario) container.appendChild(createCard(scenario, true));
                    });
                }
            });

            // 3. Render Progress
            const progressPercent = Math.round((allAssignedIds.length / scenarios.length) * 100);
            document.getElementById('progress-bar').style.width = `${progressPercent}%`;
            document.getElementById('progress-text').innerText = `${progressPercent}%`;
        }

        function createCard(scenario, isAssigned) {
            const div = document.createElement('div');
            const isSelected = selectedScenarioId === scenario.id;
            
            let classes = "bg-white rounded-[16px] border transition-all duration-300 cursor-pointer select-none card-enter relative overflow-hidden ";
            
            if (isAssigned) {
                classes += "w-full mb-3 p-4 border-gray-200 hover:border-gray-300 shadow-sm ";
                
                // *** KEY FIX HERE ***
                // If we are currently holding a card (selectedScenarioId exists)
                // AND this specific card is NOT the one we are holding...
                // We make it pointer-events-none. This means clicks go STRAIGHT THROUGH it
                // and hit the container behind it, triggering the drop.
                if(selectedScenarioId && !isSelected) {
                    classes += "pointer-events-none opacity-75 scale-[0.99] ";
                }
            } else {
                classes += "w-full sm:w-[calc(50%-1rem)] lg:w-[calc(33.33%-1rem)] p-5 border-gray-200 hover:border-blue-300 hover:shadow-md ";
            }

            if (isSelected) {
                classes += "scenario-selected z-10 ";
            }

            div.className = classes;
            div.onclick = (e) => selectScenario(scenario.id, e);

            div.innerHTML = `
                <div class="flex items-start justify-between mb-2">
                    <div class="flex items-center gap-3">
                        <span class="text-2xl">${scenario.icon}</span>
                        <h3 class="font-semibold text-gray-900 leading-tight ${isAssigned ? 'text-sm' : 'text-base'}">${scenario.title}</h3>
                    </div>
                    ${isSelected ? '<div class="h-2 w-2 rounded-full bg-blue-500"></div>' : ''}
                </div>
                <p class="text-gray-500 leading-relaxed ${isAssigned ? 'text-xs' : 'text-sm'}">${scenario.description}</p>
            `;
            
            return div;
        }

        init();

    </script>
</body>
</html>
